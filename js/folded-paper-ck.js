(function(e){var t;t={options:{targetElement:$(".paper-background"),numberOfGradients:2,gradientMinHeight:400,textureUrl:"url('img/paper_background.jpg')",opacity:.75,colorStops:{bright:"255, 255, 255",medium:"247, 247, 247",dark:"227, 227, 227"},browserPrefixes:{W3C:!0,moz:!0,webkit:!0,webkit_old:!1,opera:!0,IE:!0,IE7:!1}},getColorStopsRgba:function(){var e={};for(var t in this.options.colorStops)e[t]="rgba("+this.options.colorStops[t]+", "+this.options.opacity+")";return e},getNumberOfGradients:function(){if(this.options.targetElement.height()>=this.options.gradientMinHeight){var e=Math.floor(this.options.targetElement.height()/this.options.gradientMinHeight);return e}console.log("content is smaller than minimum gradient height")},injectShadows:function(){for(var e=0;e<this.options.numberOfGradients;e++)$("#shadow-container").append('<div class="round-shadow"></div>');this.setShadowContainerHeight()},setShadowContainerHeight:function(){var e=this.options.targetElement;$("#shadow-container").css("height",this.options.targetElement.height()+"px");var t=1/this.options.numberOfGradients*this.options.targetElement.height()-15;t+="px";$("#shadow-container .round-shadow").css("height",t)},renderGradients:function(){this.options.browserPrefixes.W3C&&this.renderW3C();this.options.browserPrefixes.webkit&&this.renderWebkit();this.options.browserPrefixes.moz&&this.renderMoz();this.options.browserPrefixes.opera&&this.renderOpera();this.options.browserPrefixes.IE&&this.renderIE()},mainRender:function(e){var t="",n=this.getColorStopsRgba(),r=this.calcRange(),i=0;t+=e;for(var s=0;s<this.options.numberOfGradients;s++){t+=n.bright+" "+r[i++]*100+"%,";t+=n.medium+" "+r[i++]*100+"%,";t+=n.dark+" "+r[i++]*100+"%,";t+=n.medium+" "+r[i++]*100+"%";s+1!==this.options.numberOfGradients?t+=",":t+='),url("../img/paper_background.jpg")'}this.options.targetElement.css({background:t})},renderWebkit:function(){var e="",t=this.getColorStopsRgba(),n=this.calcRange();e+="-webkit-gradient(linear, 0% 0%, 0% 100%,";e+="from("+t.bright+"),\n";var r=0;for(var i=0;i<this.options.numberOfGradients;i++){e+="	color-stop("+n[++r]+", "+t.medium+"),\n";e+="	color-stop("+n[++r]+", "+t.dark+"),\n";e+="	color-stop("+n[++r]+", "+t.medium+"),\n";i+1!==this.options.numberOfGradients?e+="	color-stop("+n[++r]+", "+t.bright+"),\n":e+="to("+t.bright+")),"}e+="url('img/paper_background.jpg')";this.options.targetElement.css({background:e})},renderW3C:function(){this.mainRender("linear-gradient(to bottom, ")},renderMoz:function(){this.mainRender("-moz-linear-gradient(top, ")},renderOpera:function(){this.mainRender("-o-linear-gradient(top, ")},renderIE:function(){this.mainRender("-ie-linear-gradient(top, ")},calcRange:function(){var e=[0,.48,.5,.98],t=[],n=this.getNumberOfGradients();for(var r=0;r<n;r++)for(var i in e)t.push(e[i]/n+r/n);return t}};e.paper=t})(window);(function(){paper.options.numberOfGradients=paper.getNumberOfGradients();paper.renderGradients();paper.injectShadows();paper.options.targetElement.resize(function(){paper.setShadowContainerHeight()})})();